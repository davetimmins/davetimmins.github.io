<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="DemoSource A couple of months ago I saw a comment on twitter from odoenet about how it would be useful to be able to generate some sample data for feature services hosted on ArcGIS Online. As chance w">
<meta name="keywords" content="arcgis,dotnet">
<meta property="og:type" content="article">
<meta property="og:title" content="Generating Test Data for Hosted Feature Services">
<meta property="og:url" content="https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/index.html">
<meta property="og:site_name" content="davetimmins.github.io">
<meta property="og:description" content="DemoSource A couple of months ago I saw a comment on twitter from odoenet about how it would be useful to be able to generate some sample data for feature services hosted on ArcGIS Online. As chance w">
<meta property="og:image" content="https://davetimmins.github.io/images/create hosted feature service.PNG">
<meta property="og:image" content="https://davetimmins.github.io/images/arcgis online fiddler.PNG">
<meta property="og:updated_time" content="2017-07-16T20:56:11.077Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Generating Test Data for Hosted Feature Services">
<meta name="twitter:description" content="DemoSource A couple of months ago I saw a comment on twitter from odoenet about how it would be useful to be able to generate some sample data for feature services hosted on ArcGIS Online. As chance w">
<meta name="twitter:image" content="https://davetimmins.github.io/images/create hosted feature service.PNG">
<meta name="twitter:creator" content="@davetimmins">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Generating Test Data for Hosted Feature Services</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="https://github.com/davetimmins/">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2014/04/11/Sneaky-searching-with-a-Fake-ArcGIS-Locator-and-Nancy/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/2014/03/31/Esri-Dev-Summit-2014/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&text=Generating Test Data for Hosted Feature Services"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&is_video=false&description=Generating Test Data for Hosted Feature Services"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Generating Test Data for Hosted Feature Services&body=Check out this article: https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&name=Generating Test Data for Hosted Feature Services&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Generating Test Data for Hosted Feature Services
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">davetimmins.github.io</span>
      </span>
      
    <div class="postdate">
        <time datetime="2014-04-02T00:00:00.000Z" itemprop="datePublished">2014-04-02</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/arcgis/">arcgis</a>, <a class="tag-link" href="/tags/dotnet/">dotnet</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><a href="https://randomer.azurewebsites.net" target="_blank" rel="external">Demo</a><br><a href="https://github.com/davetimmins/Randomer" target="_blank" rel="external">Source</a></p>
<p>A couple of months ago I saw a comment on twitter from <a href="https://twitter.com/odoenet" target="_blank" rel="external">odoenet</a> about how it would be useful to be able to generate some sample data for feature services hosted on ArcGIS Online. As chance would have it I have recently had to do some work with hosted feature services and found myself needing to create sample data for a number of services so rather than having to do this manually and multiple times I decided to write a basic web app that does just this. If you want to try it out it’s at <a href="https://randomer.azurewebsites.net" target="_blank" rel="external">randomer.azurewebsites.net</a> and the source is on <a href="https://github.com/davetimmins/Randomer" target="_blank" rel="external">GitHub</a>. It isn’t particulary complex, the basic workflow is</p>
<ul>
<li>Log in to ArcGIS Online using your developer or organizational account</li>
<li>A list of your hosted feature services is shown</li>
<li>Select one and it will query the first layer in the service</li>
<li>Enter the number of features to create</li>
<li>Only attribute fields that are required and are editable will be auto populated (with random data)</li>
</ul>
<p>It is also pretty limited in its current form as it only works with point features and assumes that you only have one layer in your service. You can go through the code to see how it works but I thought I’d do a quick write up of how I did it in case you find it useful.</p>
<p>To start I went to <a href="https://developers.arcgis.com" target="_blank" rel="external">developers.arcgis.com</a> and logged in with my developer account, went ahead and created a new feature service and then looked at the feature service details.</p>
<p><img src="https://davetimmins.github.io/images/create hosted feature service.PNG" alt="Create hosted feature service access"></p>
<p>I am running Fiddler whilst doing this so I can see the queries being used behind the scenes (Note the url, type of request and the parameters used in the request and response). From this information I can now recreate the correct request to query my feature services and start working with them. What this showed me was how to get the feature services for my account and then how to interrogate those services for their service details.</p>
<p><img src="https://davetimmins.github.io/images/arcgis online fiddler.PNG" alt="ArcGIS online fiddler"></p>
<p>Since I am doing the logic on the server I used one of my other libraries <a href="https://github.com/davetimmins/ArcGIS.PCL" target="_blank" rel="external">ArcGIS.PCL</a> and extended it to allow me to have some ArcGIS Online operations. This involves inspecting the json payload of a request and copying it then using Visual Studio and paste as JSON classes in order to create a typed version of the JSON request. Now I can use familiar tooling to write my code and hopefully reduce errors. The classes end up looking like (note that I have removed lots of properties that aren’t needed for this solution)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">[<span class="meta">DataContract</span>]</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SearchHostedFeatureServices</span> : <span class="title">ArcGISServerOperation</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SearchHostedFeatureServices</span>(<span class="params">ArcGISOnlineEndpoint endpoint, String username</span>)</span></div><div class="line">        : <span class="title">base</span>(<span class="params">endpoint, <span class="string">"search"</span></span>)</div><div class="line">    &#123;</div><div class="line">        Query = String.Format(<span class="string">"owner:&#123;0&#125; AND (type:\"Feature Service\")"</span>, username);</div><div class="line">        SortField = <span class="string">"created"</span>;</div><div class="line">        SortOrder = <span class="string">"desc"</span>;</div><div class="line">        NumberToReturn = <span class="number">100</span>;</div><div class="line">        StartIndex = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"q"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> String Query &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"sortField"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> String SortField &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"sortOrder"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> String SortOrder &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"num"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> NumberToReturn &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"start"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> StartIndex &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">[<span class="meta">DataContract</span>]</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SearchHostedFeatureServicesResponse</span> : <span class="title">PortalResponse</span></div><div class="line">&#123;</div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"results"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> HostedFeatureService[] Results &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">[<span class="meta">DataContract</span>]</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HostedFeatureService</span></div><div class="line">&#123;</div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"id"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"name"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">    [<span class="meta">DataMember(Name = <span class="meta-string">"url"</span>)</span>]</div><div class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Url &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Lastly I know that I want to edit data so I can look at the <a href="http://resources.arcgis.com/en/help/arcgis-rest-api/#/Apply_Edits_Feature_Service_Layer/02r3000000r6000000/" target="_blank" rel="external">ArcGIS REST API documentation</a> to find out what request I need to use to add new data. Then using the same technique as above I can easily replicate that functionality.</p>
<p>Take a look at the <a href="https://github.com/davetimmins/Randomer/blob/master/TestWeb/ServiceInterface/RandomDataService.cs" target="_blank" rel="external">service code</a> for how it is all plumbed together.</p>
<p>So for a few hours of work I have saved myself the tedious task of manually creating data, but it may also be useful for other work in the future and as with any automated process I can reuse and abuse as much as I like. I encourage you to fork away and send me pull requests if you are that way inclined or just leave me a comment with your thoughts.</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="https://github.com/davetimmins/">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&text=Generating Test Data for Hosted Feature Services"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&is_video=false&description=Generating Test Data for Hosted Feature Services"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Generating Test Data for Hosted Feature Services&body=Check out this article: https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&title=Generating Test Data for Hosted Feature Services"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://davetimmins.github.io/2014/04/02/Generating-Test-Data-for-Hosted-Feature-Services/&name=Generating Test Data for Hosted Feature Services&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 Dave Timmins
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="https://github.com/davetimmins/">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-43823237-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


